<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">

    <title>reveal.js â€“ The HTML Presentation Framework</title>

    <meta name="description" content="A framework for easily creating beautiful presentations using HTML">
    <meta name="author" content="Hakim El Hattab">

    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/simple.css" id="theme">

    <!-- Code syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- Printing and PDF exports -->
    <script>
      var link = document.createElement( 'link' );
      link.rel = 'stylesheet';
      link.type = 'text/css';
      link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
      document.getElementsByTagName( 'head' )[0].appendChild( link );
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
  </head>

  <body>

    <div class="reveal">

      <!-- Any section element inside of this container is displayed as a slide -->
      <div class="slides">
        <section>
          <!-- TDOD  -->
          <h2>Software Engineering</h2>
          <p>
            <small>by Matthew Byrne, 16-Dec-2015</small>
          </p>
        </section>

        <section>
          <section>
            <h2>Learning Objectives</h2>
            <ul>
              <li class="fragment">Gain overview of some big concepts</li>
              <li class="fragment">Why certain issues are important</li>
              <li class="fragment">Share experiences amongst the group</li>
              <li class="fragment">Ways to make work easier</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>Version Control</h2>
            <p>(a.k.a. Source Control and Revision Control)</p>
          </section>
          <section>
            <h3>The management of changes to:</h3>
            <ul>
              <li class="fragment">Source code</li>
              <li class="fragment">Documents or Spreadsheets</li>
              <li class="fragment">Deployment Configurations or Images</li>
              <li class="fragment">Database contents</li>
            </ul>
          </section>
          <section>
            <h2>Is it important?</h2>
          </section>
          <section>
            <h3>Yes, if you ever intend to:</h3>
            <ul>
              <li class="fragment">Collaborate with others</li>
              <li class="fragment">Do anything that may break existing code - at any stage</li>
              <li class="fragment">Refactor your code</li>
              <li class="fragment">Support multiple versions of your code</li>
            </ul>
          </section>
          <section>
            <h3>Notable Tools:</h3>
            <ul>
              <li class="fragment">Git: git</li>
              <li class="fragment">Mercurial: hg</li>
              <li class="fragment">Subversion: svn</li>
              <li class="fragment">CVS: cvs</li>
            </ul>
          </section>
          <section>
            <h2>GitFlow</h2>
            <p class="fragment">
              A opinion (v. commonly followed) on how to use Git</p>
            <p class="fragment">A rapid intro to concepts and considerations</p>
          </section>

          <section>
            <h3>Mary begins a new feature</h3>
            <img width="600"
              data-src="lib/images/mary_starts_new_feature.svg"
              style="border: 0px;">
            <pre><code class="hljs" data-trim contenteditable>
              git checkout -b marys-feature master
            </code></pre>
          </section>

          <section>
            <h3>Mary makes a few commits and pushes her work</h3>
            <img width="600"
              data-src="lib/images/mary_commits.svg"
              style="border: 0px;">
            <pre><code class="hljs" data-trim contenteditable>
              git push -u origin marys-feature
            </code></pre>
          </section>

          <section>
            <h3>Mary finishes feature</h3>
            <img width="600"
              data-src="lib/images/mary_finishes.svg"
              style="border: 0px;">
            <pre><code class="hljs" data-trim contenteditable>
              git push
            </code></pre>
          </section>

          <section>
            <h3>Mary issues pull request; Bill receives</h3>
            <img width="600"
              data-src="lib/images/bill_issues_pull_request.svg"
              style="border: 0px;">
          </section>

          <section>
            <h3>Mary makes changes as suggested by Bill</h3>
            <img width="600"
              data-src="lib/images/mary_does_bills_changes.svg"
              style="border: 0px;">
          </section>

          <section>
            <h3>Mary's changes are published</h3>
            <img width="600"
              data-src="lib/images/mary_publishes.svg"
              style="border: 0px;">
            <pre><code class="hljs" data-trim contenteditable>
git checkout master
git pull
git pull origin marys-feature
git push
            </code></pre>
          </section>

          <section>
            <h3>But what about another developer?</h3>
            <img width="600"
              data-src="lib/images/local_behind_master.svg"
              style="border: 0px;">
          </section>

          <section>
            <h3>They need to 'rebase'</h3>
            <pre><code class="hljs" data-trim contenteditable>
              git rebase
            </code></pre>
            <img width="600"
              data-src="lib/images/post_rebase.svg"
              style="border: 0px;">
          </section>

          <section>
            <h3>We may end up with something like...</h3>
            <img width="600"
              data-src="lib/images/with_maintenance_and_develop.svg"
              style="border: 0px;">
          </section>

          <section>
            <h2>Continuous Integration</h2>
            <blockquote
              cite="http://www.martinfowler.com/articles/continuousIntegration.html"
              class="fragment">
            Continuous Integration is a software development practice where members of a team integrate their work frequently, usually each person integrates at least daily - leading to multiple integrations per day. Each integration is verified by an automated build (including test) to detect integration errors as quickly as possible.
            </blockquote>
          </section>
        </section>

        <section>
          <section>
            <h2>Testing</h2>
          </section>

          <section>
            <h2>Testing categories:</h2>
            <ul>
              <li class="fragment">Unit</li>
              <li class="fragment">Integration</li>
              <li class="fragment">Performance</li>
              <li class="fragment">Security/Penetration</li>
              <li class="fragment">A/B</li>
              <li class="fragment">Alpha/Beta</li>
              <li class="fragment">lots of others, including Regression!</li>
            </ul>
          </section>

          <section>
            <h3>Discussion:</h3>
            <h5 class="fragment">What are the benefits of testing?<h5>
            <h5 class="fragment">
              If we don't write the test first, it's not Test Driven Development
            </h5>
            <h5 class="fragment">What are the benefits of TDD?<h5>
          </section>

          <section>
            <h3>What does a Unit Test look like?</h3>
            <pre class="fragment"><code class="hljs" data-trim contenteditable>
import unittest

class DefaultWidgetSizeTestCase(unittest.TestCase):
    def runTest(self):
        widget = Widget('The widget')
        self.assertEqual(widget.size(),
                         (50, 50),
                         'incorrect default size')
            </code></pre>
            <p class="fragment">The corresponding class looks like</p>
            <pre class="fragment"><code class="hljs" data-trim contenteditable>
class Widget:
    def __init__(self, name):
        # do something

    def size(self):
        # set h and w
        return (h, w)
            </code></pre>
          </section>

          <section>
            <h3>How about an Integration Test?</h3>
            <pre class="fragment"><code class="hljs" data-trim contenteditable>
describe('GET /user/:id', function(){
  describe('when present', function(){
    it('should display the users pets', function(done){
      request(app)
      .get('/user/1')
      .expect(/\/pet\/1">Loki/)
      .expect(/\/pet\/2">Jane/)
      .expect(200, done)
    })
  })
  describe('when not present', function(){
    it('should 404', function(done){
      request(app)
      .get('/user/123')
      .expect(404, done);
    })
  })
})
            </code></pre>
          </section>

          <section>
            <h3>And Performance Testing?</h3>
            <pre class="fragment"><code class="hljs" data-trim contenteditable>
httperf --server hostname \
   --port 80 --uri /test.html \
   --rate 150 --num-conn 27000 \
   --num-call 1 --timeout 5
            </code></pre>

            <pre class="fragment"><code class="hljs" data-trim contenteditable>
Total: connections 27000 requests 26701 replies 26701 test-duration 179.996 s

Connection rate: 150.0 conn/s (6.7 ms/conn, <=47 concurrent connections)
Connection time [ms]: min 1.1 avg 5.0 max 315.0 median 2.5 stddev 13.0
Connection time [ms]: connect 0.3

Request rate: 148.3 req/s (6.7 ms/req)
Request size [B]: 72.0

Reply rate [replies/s]: min 139.8 avg 148.3 max 150.3 stddev 2.7 (36 samples)
Reply time [ms]: response 4.6 transfer 0.0
Reply size [B]: header 222.0 content 1024.0 footer 0.0 (total 1246.0)
Reply status: 1xx=0 2xx=26701 3xx=0 4xx=0 5xx=0

CPU time [s]: user 55.31 system 124.41 (user 30.7% system 69.1% total 99.8%)
Net I/O: 190.9 KB/s (1.6*10^6 bps)

Errors: total 299 client-timo 299 socket-timo 0 connrefused 0 connreset 0
Errors: fd-unavail 0 addrunavail 0 ftab-full 0 other 0
            </code></pre>
          </section>
        </section>


        <section>
          <section>
            <h2>Agile vs Waterfall methodolgies</h2>
          </section>

          <section>
            <h2>Waterfall Overview</h2>
          </section>

          <section>
            <img width="600" height="600"
              data-src="lib/images/waterfall_model.png" style="border: 0px;">
          </section>

          <section>
            <h2>Some Characteristics:</h2>
            <ul>
              <li class="fragment">Requirements known in advance</li>
              <li class="fragment">Minimize rework</li>
              <li class="fragment">Have documentation in advance</li>
            </ul>
          </section>

          <section>
            <h2>Agile Overview</h2>
          </section>

          <section>
            <h2>
              Agile Manifesto
              <q cite="http://www.agilemanifesto.org/principles.html">&#42;</q>
            </h2>
            <ol>
              <li class="fragment">Early / Continuous Delivery</li>
              <li class="fragment">Requirement changes are welcome</li>
              <li class="fragment">Frequent Delivery</li>
              <li class="fragment">Cooperation between devs and stakeholders</li>
              <li class="fragment">Motivated Individuals</li>
              <li class="fragment">Face to Face conversation</li>
              <li class="fragment">Measure of Progress = Working Software</li>
              <li class="fragment">Sustainable, constant pace</li>
              <li class="fragment">Continuous attention to technical excellence</li>
              <li class="fragment">Simplicity is essential</li>
              <li class="fragment">Self-organizaing teams</li>
              <li class="fragment">Regular team "retuning"</li>
            </ol>
          </section>

          <section data-transition="none" data-background-transition="none">
            <h2>Definition of &ldquo;Done&rdquo;</h2>
            <blockquote
              cite="http://guide.agilealliance.org/guide/definition-of-done.html"
              class="fragment">
            &ldquo;The team agrees on, and displays prominently somewhere in the team room, a list of criteria which must be met before a product increment "often a user story" is considered "done".&rdquo;
            </blockquote>
          </section>
          <section data-transition="none" data-background-transition="none">
            <h2>Definition of &ldquo;Done&rdquo;</h2>
            <p class-"fragment">Includes creating test data, actually testing, ensuring it's deployable, documenting</p>
          </section>

          <section>
            <img width="600" height="600"
              data-src="lib/images/agile_model.png" style="border: 0px;">
          </section>

          <section>
            <h2>Agile in Practice: Scrum</h2>
            <p class="fragment">&#126;2 week Sprints</p>
            <p class="fragment">Per-Sprint planning session</p>
            <p class="fragment">End of Sprint: Ship to QA env</p>
            <p class="fragment">Large tasks broken up and difficulty rated</p>
            <p class="fragment">Order of development negotiated with client</p>
          </section>

          <section>
            <h2>Agile's usefulness to you:</h2>
            <p class="fragment grow">Often start out with simple scripts</p>
            <p class="fragment grow">Client confusion / lack of clarity</p>
            <p class="fragment grow">Personnel rotation</p>
            <p class="fragment grow">Fork and re-use code</p>
          </section>
        </section>

        <section>
          <section>
            <h2>Code Quality</h2>
            <p class="fragment">We can have version control &amp; tests,</p>
            <p class="fragment">and yet still have poor quality code.</p>
          </section>

          <section>
            <h3>Correctly guess my view on this ONE function and you can have a guilt-free chocolate.</h3>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
function fileUpload($window, Modal) {

  return {
    restrict: 'A',
    scope: {
      sendData: '&',
      reupload: '='
    },
    templateUrl: 'components/fileUpload/fileUpload.html',
    link: function (scope, element) {

      // Get file upload element.
      var input = element.find('input');

      // Watch for file change.
      input.bind('change', function () {
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
        // Extract first and only uploaded file.
        var file = input[0].files[0];

        // Check that the user's browser supports the FileReader API.
        if ($window.FileReader) {

          var reader = new $window.FileReader();

          // If an error occurs while reading the file a modal will display.
          var modalContent;

          // Handle read complete.
          reader.onload = function (e) {

            // Get the name of the file.
            var name = input[0].files[0].name;
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
              // Extract file extension.
              var extension = name.split('.').pop().toLowerCase();

              // The file must be a CSV file.
              if (extension === 'csv') {

                try {

                  // Extract file upload results.
                  var contents = e.target.result;

                  // Have d3 convert text to object.
                  var data = d3.csv.parse(contents);

                  // Send results back.
                  scope.sendData({data: data, file: name});
            </code></pre>
          </section>


          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
                } catch (e) {
                  // Trying to read the file has failed, the user will be notified.
                  modalContent = {
                    title: 'Error Reading File',
                    text: 'There is an issue with the file being uploaded. Please try ' +
                    'again or use a different file.'
                  };
                }
              } else {
                // The user has not uploaded a CSV. Display an error dialog.
                modalContent = {
                  title: 'Incorrect File Type',
                  text: 'You have uploaded a ' + extension.toUpperCase() +
                  ' file. This is not supported. Please upload a CSV file.',
                  icon: 'warning'
                };
              }
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
              // Display a modal if necessary.
              if (!_.isUndefined(modalContent)) {

                // Regardless of the error, a close button and warning icon
                // will display on the modal dialog.
                modalContent.icon = 'warning';
                modalContent.buttons = [{
                  label: 'Close',
                  icon: 'times',
                  click: function () {
                    Modal.hide();
                  }
                }];

                // Display the modal to the user.
                Modal.show(modalContent);
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
                // Poor angular will be lost now since FileReader was used.
                // Need to $apply() to get the modal to appear.
                scope.$apply();

              }

            };

            // Read file contents as text.
            reader.readAsText(file);

          } else {

            // The FileReader API is missing, the user cannot continue.
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
              // continued
                        Modal.show({
                          title: 'Browser Issue',
                          text: 'The browser you are using does not support a ' +
                          'feature necessary for uploading data in this application. ' +
                          'Please use a more up to date browser to continue.',
                          icon: 'warning',
                          buttons: [{
                            label: 'Close',
                            icon: 'times',
                            click: function () { Modal.hide(); }
                          }]
                        });
                      }
                    });
                  }
                };
              }
            </code></pre>
          </section>

          <section>
            <h3>So...</h3>
          </section>

          <section>
            <img height="600"
              data-src="lib/images/cadbury_chocolate.jpg" style="border: 0px;">
          </section>

          <section>
            <h3>Another example</h3>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
def build_month_end_df_from_activity_df(activity_df):
    """
    Returns a month-end Data Frame based on the transaction-day data
    Some colums take the last value, others the sum.
    """
    monthly_df = pd.DataFrame()
    last_vals = activity_df.groupby(pd.TimeGrouper('1M')).last()
    sum_vals  = activity_df.groupby(pd.TimeGrouper('1M')).sum()

    last_cols = SharedUtils.get_cols_for_last_vals()
    sum_cols  = SharedUtils.get_cols_for_summation()

    monthly_df[last_cols] = last_vals[last_cols]
    monthly_df[sum_cols]  = sum_vals[sum_cols]

    return monthly_df
            </code></pre>
          </section>

          <section>
            <h2>Why is this better?</h2>
            <ul>
              <li class="fragment">Sensible Name</li>
              <li class="fragment">Readable</li>
              <li class="fragment">Breaks into distinct tasks</li>
              <li class="fragment">Modification is Feasible</li>
            </ul>
          </section>

          <section>
            <p>A special word on</p>
            <h2 class="fragment">Stored Procecures</h2>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
CREATE PROCEDURE create_email_address ( -- Procedure heading part begins
    name1 VARCHAR2,
    name2 VARCHAR2,
    company VARCHAR2,
    email OUT VARCHAR2
) -- Procedure heading part ends
AS
-- Declarative part begins (optional)
error_message VARCHAR2(30) := 'Email address is too long.';
BEGIN -- Executable part begins (mandatory)
    email := name1 || '.' || name2 || '@' || company;
EXCEPTION -- Exception-handling part begins (optional)
WHEN VALUE_ERROR THEN
    DBMS_OUTPUT.PUT_LINE(error_message);
END build_email_address;
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
class User(models.Model):
    company = models.CharField(max_length=100)
    name1   = models.CharField(max_length=100)
    name2   = models.CharField(max_length=100)

    def build_username(self):
        return name1 + '.' + name2

    def build_email_address(self):
        return build_username() '@' + company
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
class Company(models.Model):
    name   = models.CharField(max_length=100)

class User(models.Model):
    company = models.ForeignKey(Company)
    name1   = models.CharField(max_length=100)
    name2   = models.CharField(max_length=100)

    def build_username(self):
        return name1 + '.' + name2

    def build_email_address(self):
        return build_username() '@' + company.name
            </code></pre>
          </section>

          <section>
            <pre><code class="hljs" data-trim contenteditable>
class Company(models.Model):
    name   = models.CharField(max_length=100)

class User(models.Model):
    company    = models.ForeignKey(Company)
    first_name = models.CharField(max_length=100, db_column='name1',)
    last_name  = models.CharField(max_length=100, db_column='name2',)

    def build_username(self):
        return first_name + '.' + last_name

    def build_email_address(self):
        return build_username() '@' + company.name
            </code></pre>
          </section>

          <section>
            <h2>Disadvantages</h2>
            <ul>
              <li class="fragment">Verbose</li>
              <li class="fragment">Scope for Bugs</li>
              <li class="fragment">Longer to Read/Understand/Write</li>
              <li class="fragment">Tightly Coupled</li>
              <li class="fragment">VERY Hard to Test</li>
            </ul>
          </section>

          <section>
            <h2>However...</h2>
            <ul>
              <li class="fragment">You may have no choice</li>
              <li class="fragment">They *can* be highly performanant</li>
              <li class="fragment">
                My suggestion: Only for DBA tasks and/or invariant data models</li>
            </ul>
          </section>
        </section>

        <section>
          <section>
            <h2>Target for D.Nav and Audit Tools</h2>
          </section>
          <!-- TODO  -->
        </section>

        <section>
          <section>
            <h2>Some other Useful and Important concepts</h2>
          </section>

          <section>
            <h3>Convention Over Configuration</h3>
            <blockquote class="fragment"
              cite="http://stackoverflow.com/questions/901851/what-is-coding-by-convention">
              &ldquo;
              A software design paradigm which seeks to decrease the number of decisions that developers need to make, gaining simplicity, but not necessarily losing flexibility.
              &rdquo;
            </blockquote>
          </section>

          <section>
            <h3>Library vs Framework</h3>
            <blockquote class="fragment" cite="http://stackoverflow.com/questions/148747/what-is-the-difference-between-a-framework-and-a-library">
              &ldquo;
              A library performs specific, well-defined operations.
              &rdquo;
            </blockquote>

            <blockquote class="fragment" cite="http://stackoverflow.com/questions/148747/what-is-the-difference-between-a-framework-and-a-library">
              &ldquo;
              A framework is a skeleton where the application defines the "meat" of the operation by filling out the skeleton. The skeleton still has code to link up the parts but the most important work is done by the application.
              &rdquo;
            </blockquote>
            <h3 class="fragment">Inversion of Control</h3>
          </section>
        </section>

        <section>
          <section>
            <h3>I hope you can take a few things from today:</h3>
            <ul>
              <li class="fragment">LT support considerations in any new work</li>
              <li class="fragment">A willingness to use Git*</li>
              <li class="fragment">Testing makes your life a lot easier</li>
              <li class="fragment">So does good quality code!</li>
            </ul>
          </section>

          <section>
            <img width="600"
              data-src="lib/images/question_mark.jpg" style="border: 0px;">
          </section>

          <section>
            <img height="700"
              data-src="lib/images/thanks.png" style="border: 0px;">
          </section>

        </section>

      </div>

    </div>

    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>

    <script>

      // Full list of configuration options available at:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,

        transition: 'slide', // none/fade/slide/convex/concave/zoom

        // Optional reveal.js plugins
        dependencies: [
          { src: 'lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'plugin/markdown/marked.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/markdown/markdown.js', condition: function() { return !!document.querySelector( '[data-markdown]' ); } },
          { src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } },
          { src: 'plugin/zoom-js/zoom.js', async: true },
          { src: 'plugin/notes/notes.js', async: true }
        ]
      });

    </script>

  </body>
</html>
